(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{104:function(e,a,t){},105:function(e,a,t){},107:function(e,a,t){},109:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(48),l=t.n(c),i=(t(61),t(49)),s=t(3),o=(t(62),t(63),t(50)),m=t.n(o),u=t(51),d=t.n(u),p=t(11),_=Object(n.createContext)(),E=function(e){var a=e.reducer,t=e.initialState,c=e.children;return r.a.createElement(_.Provider,{value:Object(n.useReducer)(a,t)},c)},g=function(){return Object(n.useContext)(_)},h=t(31),f=t.n(h),v=f.a.initializeApp({apiKey:"AIzaSyDBQUN3Pg6Cu82o-r2EPX1VuMWEfxfejcc",authDomain:"sheoran-clone.firebaseapp.com",databaseURL:"https://sheoran-clone.firebaseio.com",projectId:"sheoran-clone",storageBucket:"sheoran-clone.appspot.com",messagingSenderId:"414058708746",appId:"1:414058708746:web:ff55944a59b833fbce44f3",measurementId:"G-ZMNJ26EJF4"}).firestore(),b=f.a.auth();var j=function(){var e=g(),a=Object(s.a)(e,1)[0],t=a.basket,n=a.user;return r.a.createElement("div",{className:"app__header"},r.a.createElement(p.b,{to:"/"},r.a.createElement("div",null,r.a.createElement("img",{className:"app__logo",src:"https://onlinebusinessmanager.com/wp-content/uploads/2018/09/white-amazon-logo-png-6.png",alt:""}))),r.a.createElement("div",{className:"header__search"},r.a.createElement("input",{className:"header__searchinput",type:"text"}),r.a.createElement(m.a,{className:"header__searchicon"})),r.a.createElement("div",{className:"header__navbar"},r.a.createElement(p.b,{to:!n&&"/login"},r.a.createElement("div",{onClick:function(){b.signOut()},className:"header__option"},r.a.createElement("span",{className:"header__optionone"},n?"hello ".concat(n.email):"Hello Guest"),r.a.createElement("span",{className:"header__optiontwo"},n?"Sign Out":"Sign In"))),r.a.createElement(p.b,{to:"/orders"},r.a.createElement("div",{className:"header__option"},r.a.createElement("span",{className:"header__optionone"},"return"),r.a.createElement("span",{className:"header__optiontwo"},"& orders"))),r.a.createElement("div",{className:"header__option"},r.a.createElement("span",{className:"header__optionone"},"try"),r.a.createElement("span",{className:"header__optiontwo"},"prime")),r.a.createElement(p.b,{to:"/checkout"},r.a.createElement("div",{className:"header__openBasket"},r.a.createElement(d.a,null),r.a.createElement("span",{className:"header__optionlinetwo header__BasketCount"},null===t||void 0===t?void 0:t.length)))))};t(79),t(80);var k=function(e){var a=e.title,t=e.image,n=e.price,c=e.rating,l=e.id,i=g(),o=Object(s.a)(i,2),m=(o[0],o[1]);return r.a.createElement("div",{className:"product"},r.a.createElement("div",{className:"product__info"},r.a.createElement("p",null,a),r.a.createElement("p",{className:"product__price"},r.a.createElement("small",null,"\u20b9"),r.a.createElement("strong",null,n)),r.a.createElement("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),r.a.createElement("div",{className:"product__rating"},Array(c).fill().map((function(e,a){return r.a.createElement("span",{className:"fa fa-star checked"})})))),r.a.createElement("img",{className:"product__image",src:t,alt:""}),r.a.createElement("button",{onClick:function(){m({type:"ADD_TO_BASKET",item:{id:l,title:a,image:t,price:n,rating:c}})},className:"button"},"Add To Basket"))};var y=function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"home__container"},r.a.createElement("div",{className:"product__row"},r.a.createElement(k,{title:"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses",price:615,rating:3,id:"DCZFVVTSTGSTVRWsvsfsfvfdnhgjmki,kiy,up.iopynfgfgfbhmj",image:"https://3.bp.blogspot.com/-nc64-eLzumM/Vx-O3m5AZaI/AAAAAAAAATE/zD5ffSYIMOMBixIADInSEH7XRns6UHm_gCLcB/s1600/IqXcCwAAQBAJ.jpg"}),r.a.createElement(k,{title:"Lifelong Power Pro 500-Watt Mixer Grinder with 3 Jars (White/Grey)",image:"https://m.media-amazon.com/images/I/612Wn2npFkL._AC_UY327_FMwebp_QL65_.jpg",rating:3,price:1249,id:"avgngyumui,o;uijfhc"}),r.a.createElement(k,{title:"Samsung 23.5 inch (59.8 cm) Curved LED Backlit Computer Monitor - Full HD, VA Panel with VGA, HDMI, Audio Ports - LC24F390FHWXXL (Black)",image:"https://m.media-amazon.com/images/I/71nplbAMwzL._AC_UY327_FMwebp_QL65_.jpg",rating:3,price:9699,id:"zxcfdvdssadcascfvx"})),r.a.createElement("div",{className:"product__row"},r.a.createElement(k,{title:"Echo Dot (3rd Gen) \u2013 New and improved smart speaker with Alexa (Black)",image:"https://m.media-amazon.com/images/I/61EXU8BuGZL._AC_UY327_FMwebp_QL65_.jpg",rating:4,price:3499,id:"ascrewgtbfd"}),r.a.createElement(k,{title:"SkyTree Scratch Proof Tempered Glass Screen Protector for Apple iPad Pro 12.9 (2015)",image:"https://m.media-amazon.com/images/I/41KEVOC4ofL._AC_UY327_FMwebp_QL65_.jpg",rating:4,price:19999,id:"aacajfvsnvhb"}),r.a.createElement(k,{image:"https://m.media-amazon.com/images/I/61bTR1wJ9dL._AC_UL480_FMwebp_QL65_.jpg",title:"Analogue - Digital Black Dial Mens & Boys Watch",rating:4,price:580,id:"asmxjanada"}),r.a.createElement(k,{image:"https://m.media-amazon.com/images/I/816rruNShkL._AC_UY327_FMwebp_QL65_.jpg",title:"Zebronics Computer Multimedia 2.1 Speaker with Bluetooth, SD Card, USB, AUX, FM and Remote Control - BT2490RUCF",rating:4,price:2649,id:"kasncjsbauvsbvusdgbvysgbvytvbyb"})),r.a.createElement("div",{className:"product__row"},r.a.createElement(k,{title:"Apple iPhone 7 Plus (32GB) - Black",image:"https://m.media-amazon.com/images/I/41DvAKt7CaL._AC_UY327_FMwebp_QL65_.jpg",rating:5,price:35999,id:"ajdcnvuoavh"}),r.a.createElement(k,{image:"https://m.media-amazon.com/images/I/51Bqi57q73L._AC_UL480_FMwebp_QL65_.jpg",title:"ReebokWomens Zpump Fusion  Multisport Training Shoes",rating:4,price:6119,id:"msiocsdofnvjsnvjnvg"}))))},N=t(5),O=(t(81),t(82),t(21)),S=t.n(O),A=t(35),w=t(17),C=function(e,a){return a.price+e},B=function(e){return null===e||void 0===e?void 0:e.reduce(C,0)},M=function(e,a){switch(console.log(a.user),a.type){case"ADD_TO_BASKET":return Object(w.a)(Object(w.a)({},e),{},{basket:[].concat(Object(A.a)(e.basket),[a.item])});case"REMOVE_FROM_BASKET":var t=e.basket.findIndex((function(e){return e.id===a.id})),n=Object(A.a)(e.basket);return t>=0?n.splice(t,1):console.warn("Cannot remove product (id:".concat(a.id,") as its not in basket")),Object(w.a)(Object(w.a)({},e),{},{basket:n});case"EMPTY_BASKET":return Object(w.a)(Object(w.a)({},e),{},{basket:[]});case"SET_USER":return Object(w.a)(Object(w.a)({},e),{},{user:a.user});default:return e}};var x=function(){var e=g(),a=Object(s.a)(e,1)[0].basket,t=Object(N.f)();return r.a.createElement("div",{className:"subtotal"},r.a.createElement(S.a,{renderText:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Subtotal(",null===a||void 0===a?void 0:a.length," items):",r.a.createElement("strong",null,e)),r.a.createElement("small",{className:"subtotal__gift"},r.a.createElement("input",{type:"checkbox"}),"This order contains a gift"))},decimalScale:2,value:B(a),displayType:"text",thousandSeperator:!0,prefix:"\u20b9"}),r.a.createElement("button",{onClick:function(e){t.push("/payment")}},"Proceed to Checkout"))};t(84);var I=function(e){var a=e.image,t=e.title,n=e.price,c=e.id,l=e.rating,i=e.hideButton,o=g(),m=Object(s.a)(o,2)[1];return r.a.createElement("div",{className:"checkoutProduct"},r.a.createElement("img",{className:"checkoutProduct__image",alt:"",src:a}),r.a.createElement("div",{className:"checkoutProduct__info"},r.a.createElement("p",{className:"checkoutProduct__title"},t),r.a.createElement("p",{className:"checkoutProduct__Price"},r.a.createElement("small",null,"\u20b9"),r.a.createElement("strong",null,n)),r.a.createElement("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),r.a.createElement("div",{className:"checkoutProduct__rating"},Array(l).fill().map((function(){return r.a.createElement("span",{class:"fa fa-star checked"})}))),!i&&r.a.createElement("button",{onClick:function(){m({type:"REMOVE_FROM_BASKET",id:c})}},"Remove From Basket")))};var T=function(){var e=g(),a=Object(s.a)(e,1)[0],t=a.basket,n=a.user;return r.a.createElement("div",{className:"checkout"},r.a.createElement("div",{className:"checkout__left"},r.a.createElement("img",{className:"checkout__ad",src:"https://images-eu.ssl-images-amazon.com/images/G/31/img20/Laptops/INTEL/SFH/LFH--Learn--Banner--1500x200.jpg",alt:""}),r.a.createElement("div",null,r.a.createElement("h3",null,n?"Hello,".concat(n.email):"Hello,Guest"),r.a.createElement("h2",{className:"checkout__title"},"Your Shopping Basket"),null===t||void 0===t?void 0:t.map((function(e){return r.a.createElement(I,{image:e.image,price:e.price,rating:e.rating,id:e.id,title:e.title})})))),r.a.createElement("div",{className:"checkout__right"},r.a.createElement(x,null)))};t(85);var L=function(){var e=Object(N.f)(),a=Object(n.useState)(""),t=Object(s.a)(a,2),c=t[0],l=t[1],i=Object(n.useState)(""),o=Object(s.a)(i,2),m=o[0],u=o[1];return r.a.createElement("div",{className:"login"},r.a.createElement(p.b,{to:"/"},r.a.createElement("img",{className:"login__image",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1000px-Amazon_logo.svg.png",alt:""})),r.a.createElement("div",{className:"login__container"},r.a.createElement("h1",null,"Sign-In"),r.a.createElement("form",null,r.a.createElement("h5",null,"Email"),r.a.createElement("input",{type:"text",onChange:function(e){return l(e.target.value)},value:c}),r.a.createElement("h5",null,"Password"),r.a.createElement("input",{type:"password",onChange:function(e){return u(e.target.value)},value:m}),r.a.createElement("button",{className:"login__signIn",type:"submit",onClick:function(a){a.preventDefault(),b.signInWithEmailAndPassword(c,m).then((function(a){e.push("/")}))}},"Sign-In"),r.a.createElement("p",null,"By continuing, you agree to Amazon's Conditions of Use and Privacy Notice."),r.a.createElement("button",{className:"login__register",type:"submit",onClick:function(a){a.preventDefault(),b.createUserWithEmailAndPassword(c,m).then((function(a){console.log(a),a&&e.push("/")})).catch((function(e){alert(e.message)}))}},"Create Your Amazon Account"))))},P=t(23),D=t.n(P),z=t(34),F=(t(87),t(20)),U=t(52),R=t.n(U).a.create({baseURL:"https://us-central1-sheoran-clone.cloudfunctions.net/api"});var G=function(){var e=Object(N.f)(),a=g(),t=Object(s.a)(a,2),c=t[0],l=c.user,i=c.basket,o=t[1],m=Object(F.useStripe)(),u=Object(F.useElements)(),d=Object(n.useState)(null),_=Object(s.a)(d,2),E=_[0],h=_[1],f=Object(n.useState)(!0),b=Object(s.a)(f,2),j=b[0],k=b[1],y=Object(n.useState)(""),O=Object(s.a)(y,2),A=O[0],w=O[1],C=Object(n.useState)(!1),M=Object(s.a)(C,2),x=M[0],T=M[1],L=Object(n.useState)(!0),P=Object(s.a)(L,2),U=P[0],G=P[1];Object(n.useEffect)((function(){(function(){var e=Object(z.a)(D.a.mark((function e(){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R({method:"post",url:"/payments/create?total=".concat(100*B(i))});case 2:a=e.sent,G(a.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]);var H=function(){var a=Object(z.a)(D.a.mark((function a(t){return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),w(!0),a.next=4,m.confirmCardPayment(U,{payment_method:{card:u.getElement(F.CardElement)}}).then((function(a){var t=a.paymentIntent;T(!0),h(null),w(!1),e.replace("/orders"),o({type:"EMPTY_BASKET"}),console.log(t),v.collection("users").doc(null===l||void 0===l?void 0:l.uid).collection("orders").doc(t.id).set({basket:i,amount:t.amount,created:t.created})}));case 4:a.sent;case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"payment"},r.a.createElement("div",{className:"payment__container"},r.a.createElement("h1",null,"Checkout (",r.a.createElement(p.b,{to:"/checkout"},null===i||void 0===i?void 0:i.length," items"),")"),r.a.createElement("div",{className:"payment__section"},r.a.createElement("div",{className:"payment__title"},r.a.createElement("h3",null,"Delievery address")),r.a.createElement("div",{className:"payment__address"},r.a.createElement("p",null,null===l||void 0===l?void 0:l.email),r.a.createElement("p",null,"React Lane"),r.a.createElement("p",null,"haryana"))),r.a.createElement("div",{className:"payment__section"},r.a.createElement("div",{className:"payment__title"},r.a.createElement("h3",null,"Review Items and delivery")),r.a.createElement("div",{className:"payment__items"},i.map((function(e){return r.a.createElement(I,{image:e.image,price:e.price,rating:e.rating,id:e.id,title:e.title})})))),r.a.createElement("div",{className:"payment__section"},r.a.createElement("div",{className:"payment__title"},r.a.createElement("h3",null,"Payment Method")),r.a.createElement("div",{className:"payment__details"},r.a.createElement("form",{onSubmit:H},r.a.createElement(F.CardElement,{onChange:function(e){k(e.empty),h(e.error?e.error.message:""),console.log(i)}}),r.a.createElement("div",{className:"payment__pricecontainer"},r.a.createElement(S.a,{renderText:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Subtotal(",null===i||void 0===i?void 0:i.length," items):",r.a.createElement("strong",null,e)))},decimalScale:2,value:B(i),displayType:"text",thousandSeperator:!0,prefix:"\u20b9"}),r.a.createElement("button",{disabled:A||j||x},r.a.createElement("span",null,A?r.a.createElement("p",null,"processing"):"Buy Now"))),E&&r.a.createElement("div",null,E))))))},H=t(53),W=t(28),Y=(t(47),["https://images-eu.ssl-images-amazon.com/images/G/31/img20/CEPC/BestOfTech/September/Bes_of-tech_Sept_1500x600._CB405702641_.jpg","https://images-eu.ssl-images-amazon.com/images/G/31/img20/CEPC/Wearables/Mi/Band5/MI-Xiaomi_get-in-the-zone-_GW_TollHero_1500x600._CB403875125_.jpg","https://images-eu.ssl-images-amazon.com/images/G/31/IMG20/Home/BAU/Banners/XCM_Manual_ORIGIN_1262629_1338382_IN_1_3354545_1500x600_1X_en_IN._CB405622018_.jpg","https://images-eu.ssl-images-amazon.com/images/G/31/img20/Wireless/SamsungM/MonsterSeries/V203057508_SamsungM_M21_M31_GW_tall_hero_1500x600._CB410822764_.jpg","https://images-eu.ssl-images-amazon.com/images/G/31/img20/Wireless/WLA/September/Headsets/HeadsetDays/V250146967_WLA-Headset_Days_TallHero_1500x600._CB403722192_.jpg"]),V=function(){return r.a.createElement("div",{className:"slide-container"},r.a.createElement(W.Zoom,{scale:.4},Y.map((function(e,a){return r.a.createElement("img",{key:a,style:{width:"100%"},src:e})}))))},X=(t(104),t(105),t(54)),K=t.n(X);var Q=function(e){var a,t=e.order;return r.a.createElement("div",{className:"order"},r.a.createElement("h2",null,"Order"),r.a.createElement("p",null,K.a.unix(t.data.created).format("MMMM Do YYYY,h:mma")),r.a.createElement("p",{className:"order__id"},r.a.createElement("small",null,t.id)),null===(a=t.data.basket)||void 0===a?void 0:a.map((function(e){return r.a.createElement(I,{image:e.image,price:e.price,rating:e.rating,id:e.key,title:e.title,hideButton:!0})})),r.a.createElement(S.a,{renderText:function(e){return r.a.createElement("h3",{className:"order__total"},"Order Total:",e)},decimalScale:2,value:t.data.amount/100,displayType:"text",thousandSeperator:!0,prefix:"\u20b9"}))};var Z=function(){var e=g(),a=Object(s.a)(e,2),t=a[0],c=(t.basket,t.user),l=(a[1],Object(n.useState)([])),i=Object(s.a)(l,2),o=i[0],m=i[1];return Object(n.useEffect)((function(){c?v.collection("users").doc(null===c||void 0===c?void 0:c.uid).collection("orders").orderBy("created","desc").onSnapshot((function(e){return m(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})):m([])}),[c]),r.a.createElement("div",{className:"orders"},r.a.createElement("h1",null,"Your Orders"),r.a.createElement("div",{className:"orders__order"},null===o||void 0===o?void 0:o.map((function(e){return r.a.createElement(Q,{order:e})}))))},J=(t(107),Object(H.a)("pk_test_51HRr6IFrqO60PvxDSdtrsXSXHpUjlotvPryWZAx8HZo6AYk39vxjgdUOT2MKEm9iOHUmy5lLKf7khSDa0AmYDRnG00a0BkWqeh"));var q=function(){var e=g(),a=Object(s.a)(e,2);Object(i.a)(a[0]);var t=a[1];return Object(n.useEffect)((function(){b.onAuthStateChanged((function(e){t(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(N.c,null,r.a.createElement(N.a,{path:"/orders"},r.a.createElement(j,null),r.a.createElement(Z,null)),r.a.createElement(N.a,{path:"/login"},r.a.createElement(L,null)),r.a.createElement(N.a,{path:"/payment"},r.a.createElement(j,null),r.a.createElement(F.Elements,{stripe:J},r.a.createElement(G,null))),r.a.createElement(N.a,{path:"/checkout"},r.a.createElement(j,null),r.a.createElement(T,null)),r.a.createElement(N.a,{path:"/"},r.a.createElement(j,null),r.a.createElement(V,null),r.a.createElement(y,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,{initialState:{basket:[],user:null},reducer:M},r.a.createElement(q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},56:function(e,a,t){e.exports=t(109)},61:function(e,a,t){},62:function(e,a,t){},63:function(e,a,t){},79:function(e,a,t){},80:function(e,a,t){},81:function(e,a,t){},82:function(e,a,t){},84:function(e,a,t){},85:function(e,a,t){},87:function(e,a,t){}},[[56,1,2]]]);
//# sourceMappingURL=main.8e8e139d.chunk.js.map